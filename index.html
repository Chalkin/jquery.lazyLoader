<!DOCTYPE HTML>
<html>
    <head>
        <title>jquery.lazyLoader. Semantic, organic responsive images</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">        
        
        <script src="lib/jquery-1.5.2.min.js"></script>
        <script src="jquery.lazyLoader.js"></script>
        <style type="text/css">
            body { font-family: arial, sans-serif; }
            pre code { background: #ddd; display: block; overflow: auto; padding: 10px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -o-border-radius: 5px; border-radius: 5px; }
            #container { margin: 0 auto; max-width: 800px; }
            #share {
                padding: 3px 5px;
                zoom: 1;
            }
            #share:after { content: "."; display: block; height: 0; clear: both; visibility: hidden; }
            #share iframe {
            }
            .share-itm {
                padding: 3px 10px 3px 0;
                float: left;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <p>
                <a href="http://the-taylors.org">&lt; Dave Taylor</a>
            </p>
            <h1>jquery.lazyLoader. Semantic, organic responsive images</h1>
            <div id="share">
                <!-- github -->
                <div class="share-itm">
                    <a href="http://github.com/davetayls/jquery.lazyLoader" target="_blank" class="gitwatch">view on github</a>
                </div>
                <!-- facebook -->
                <div class="share-itm">
                    <iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fthe-taylors.org%2Fjquery.lazyLoader%2F&amp;send=false&amp;layout=button_count&amp;width=100&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21&amp;appId=134627293286962" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100px; height:21px;" allowTransparency="true"></iframe>
                </div>
                <!-- twitter -->
                <div class="share-itm">
                    <a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="davetayls">Tweet</a>
                </div>
                <div class="share-itm">
                    <a href="https://twitter.com/davetayls" class="twitter-follow-button" data-show-count="true">Follow @davetayls</a>
                </div>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>                    
                <script type="text/javascript" src="https://github.com/addyosmani/github-watchers-button/raw/master/github-watchers.min.js"></script>
            </div>
            

            <p>There's been a fair few ways in which people have been trying to achieve
                responsive images. Here's another angle at the same problem. The idea is to
                keep the process as organic as possible and not rely on tricking the browser
                in to submission to support responsive <code>&lt;img&gt;</code> tags 
                (maybe one day we won&rsquo;t have to).
            </p>

            <p>This doesn't have to be used for responsive images. If you just want to lazy-load images
                on the fly this can also be very helpful.</p>

            <p>This is my contribution to the toolset, I think it has it's place but <a href="http://twitter.com/davetayls">let me know</a>
                if I've missed something obvious. It&rsquo; highly likely ;)</p>

            <h2>Example</h2>
            <p>Resize the screen, the image below will jump in sizes between 0px,
            600px and 900px</p>
            <p id="examples">
                <a href="http://lorempixel.com/" 
                   data-img="http://lorempixel.com/100/100/people">people</a>
            </p>
            <script>
                $('#examples a').lazyLoader({
                    img: function(url, winWidth){
                        if (winWidth >=600 && winWidth < 900) {
                            return 'http://lorempixel.com/400/400/people';
                        } else if (winWidth >=900) {
                            return 'http://lorempixel.com/600/600/people';
                        } else {
                            return url;
                        }
                    },
                    steps: [600,900]
                });
            </script>

            <p><a href="http://travis-ci.org/davetayls/jquery.lazyLoader"><img src="https://secure.travis-ci.org/davetayls/jquery.lazyLoader.png" alt="Build Status" title="" /></a></p>

            <p>Converts links either pointing to an image <code>src</code> or with a <code>data-img</code> attribute to images with that source.</p>

            <h2>Install</h2>

            <p>Download the <a href="http://github.com/davetayls/jquery.lazyLoader">latest version</a> and include in your page alongside jQuery.</p>

            <h2>Usage</h2>

            <p>With the following markup</p>

<pre><code>&lt;div id="#lazy"&gt;
    &lt;a href="myimage.jpg"&gt;my image&lt;/a&gt;
&lt;/div&gt;
</code></pre>

            <p>You run the plugin on the links</p>

<pre><code>$('#lazy a').lazyLoader();
</code></pre>

            <h2>Examples</h2>

<pre><code>&lt;a href="myimage.jpg"&gt;my image&lt;/a&gt;
</code></pre>

            <p>converts to</p>

<pre><code>&lt;img src="myimage.jpg" alt="my image" /&gt;
</code></pre>

            <p>and with data attribute:</p>

<pre><code>&lt;a href="mypage.html" data-img="myimage.jpg"&gt;my image&lt;/a&gt;
</code></pre>

            <p>converts to</p>

<pre><code>&lt;img src="myimage.jpg" alt="my image" /&gt;
</code></pre>

            <h2>Responsive images</h2>

            <p>If you want to dynamically load images dependent on the screen dimensions then
                you can use the following.</p>

<pre><code>&lt;a href="myimage.jpg" 
   data-img768="myimage-768.jpg" 
   data-img990="myimage-990.jpg" 
&gt;my image&lt;/a&gt;

$('a').lazyLoader({
    steps: [768,990] // this must be sorted correctly
});
</code></pre>

                <p>Or it also supports dynamic urls so you don't need all those data attributes.</p>

<pre><code>&lt;a href="myimage.jpg"&gt;my image&lt;/a&gt;

$('a').lazyLoader({
    img: function(url, windowWidth) {
        if (windowWidth &gt;= 768){
            return url.replace(/.(jpg|gif|png)$/i, '-mega.$1'); 
        } else {
            return url;
        }
    }
});
</code></pre>

                <p>This function appends "-mega" on to the end of the url if the windowWidth is
                    greater than or equal to 768.</p>

<pre><code>&lt;img src="myimage-mega.jpg" alt="my image" /&gt;
</code></pre>

                    <h2>Test Suite</h2>

                    <p>To run the test suite, you need node and npm</p>

<pre><code>$ npm install
$ npm test
</code></pre>

                    </div>
            <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-4421586-2']);
                _gaq.push(['_trackPageview']);

                (function() {
                 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                 })();
            </script>
            
    </body>
</html>
